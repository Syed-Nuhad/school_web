<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hostel Management</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  
  <style>
    body, html {
      height: 100%;
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(120deg, #f8f9fa, #e9ecef);
    }

    /* ==================== STICKY HEADER ==================== */
    .sticky-header {
      position: sticky;
      top: 0;
      z-index: 1020;
      background-color: #ffffffcc;
      backdrop-filter: blur(10px);
      border-bottom: 1px solid #ddd;
      padding: 0.5rem 1rem;
    }
    .sticky-header img {
      height: 40px;
    }
    .sticky-header h4 {
      margin: 0;
      font-weight: bold;
      color: #0d6efd;
    }

    /* ==================== ROOM GRID ==================== */
    #roomGrid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1rem;
    }
    .card-soft {
      background: #ffffffdd;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 6px 20px rgba(0,0,0,0.05);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .card-soft:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    /* ==================== APPLY FORM ==================== */
    .apply-form {
      background: #ffffffdd;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 6px 20px rgba(0,0,0,0.05);
      margin-top: 2rem;
    }

    /* ==================== BACK TO HOME BUTTON ==================== */
    .back-home {
      display: flex;
      justify-content: center;
      margin-top: 2rem;
      margin-bottom: 2rem;
    }
    .back-home button {
      background-color: #0d6efd;
      color: #fff;
      padding: 0.6rem 1.5rem;
      border-radius: 50px;
      border: none;
      font-weight: 500;
      transition: 0.3s;
    }
    .back-home button:hover {
      background-color: #0b5ed7;
      transform: scale(1.05);
    }
  </style>
</head>
<body class="section">

<!-- ⭐⭐⭐⭐⭐ START: Sticky Header -->
<div class="sticky-header d-flex align-items-center mb-4">
  <img src="./img/logo/DS-Logo.png" alt="College Logo" class="me-2">
  <h4>Hostel Management</h4>
</div>
<!-- ⭐⭐⭐⭐⭐ END: Sticky Header -->

<!-- ⭐⭐⭐⭐⭐ START: Hostel Rooms Section -->
<section class="container py-4">

  <!-- Room Grid -->
  <div id="roomGrid" class="mb-4"></div>

  <!-- Apply for Hostel Form -->
  <div class="apply-form">
    <h5>Apply for Hostel</h5>
    <div class="row g-2">
      <div class="col-md-3"><input class="form-control" id="hsStuName" placeholder="Student Name"></div>
      <div class="col-md-2"><input class="form-control" id="hsRoll" placeholder="Roll"></div>
      <div class="col-md-3">
        <select class="form-select" id="hsClass">
          <option>Class 9</option>
          <option>Class 10</option>
        </select>
      </div>
      <div class="col-md-2">
        <select class="form-select" id="hsRoom"></select>
      </div>
      <div class="col-md-2">
        <button class="btn btn-primary w-100" onclick="applyHostel()">Apply</button>
      </div>
    </div>
  </div>

  <!-- Back to Home -->
  <div class="back-home">
    <button onclick="window.location.href='index.html'"><i class="bi bi-house-door me-2"></i>Back to Home</button>
  </div>

</section>
<!-- ⭐⭐⭐⭐⭐ END: Hostel Rooms Section -->

<script>
let rooms = [
  {no:'A-101', cap:4, occ:2},
  {no:'A-102', cap:4, occ:4},
  {no:'B-201', cap:3, occ:1},
  {no:'B-202', cap:3, occ:2},
  {no:'C-301', cap:2, occ:0}
];

function renderRooms(){
  const grid = document.getElementById('roomGrid');
  grid.innerHTML = rooms.map(r => `
    <div class="card-soft">
      <div class="d-flex justify-content-between"><strong>Room ${r.no}</strong><span>${r.occ}/${r.cap}</span></div>
      <div class="progress mt-2">
        <div class="progress-bar" style="width:${(r.occ/r.cap)*100}%"></div>
      </div>
      <div class="small mt-1">${r.cap-r.occ>0?'<span class="text-success">Vacancy</span>':'<span class="text-danger">Full</span>'}</div>
    </div>
  `).join('');

  const sel = document.getElementById('hsRoom');
  sel.innerHTML = rooms.filter(r => r.occ < r.cap).map(r => `<option>${r.no}</option>`).join('');
}

function applyHostel(){
  const room = rooms.find(r => r.no === document.getElementById('hsRoom').value);
  if(room && room.occ < room.cap){
    room.occ++;
    renderRooms();
    alert('✅ Applied (stub). Hostel fee will be added in fee module.');
  }
}

document.addEventListener('DOMContentLoaded', renderRooms);
</script>

</body>
</html>
