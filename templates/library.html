<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Library Catalog</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <style>
    /* ==================== BODY & BACKGROUND ==================== */
    body, html {
      height: 100%;
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f0f4f8, #e9ecef);
    }

    /* ==================== STICKY HEADER ==================== */
    .sticky-header {
      position: sticky;
      top: 0;
      z-index: 1020;
      background-color: #ffffffdd;
      backdrop-filter: blur(10px);
      border-bottom: 1px solid #ddd;
      padding: 0.5rem 1rem;
      display: flex;
      align-items: center;
      gap: 0.8rem;
    }
    .sticky-header img {
      height: 45px;
      border-radius: 6px;
    }
    .sticky-header h4 {
      margin: 0;
      font-weight: 700;
      color: #0d6efd;
      font-size: 1.4rem;
    }

    /* ==================== CARD STYLE ==================== */
    .card-soft {
      background: #ffffffcc;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
    }

    /* ==================== SEARCH BAR ==================== */
    .search-bar {
      margin-bottom: 1rem;
    }

    /* ==================== BACK TO HOME BUTTON ==================== */
    .back-home {
      display: flex;
      justify-content: center;
      margin-top: 2rem;
      margin-bottom: 2rem;
    }
    .back-home button {
      background: linear-gradient(45deg,#0d6efd,#6610f2);
      color: #fff;
      padding: 0.7rem 1.8rem;
      border-radius: 50px;
      border: none;
      font-weight: 600;
      font-size: 1rem;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      transition: all 0.3s;
    }
    .back-home button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 25px rgba(0,0,0,0.3);
    }

    /* ==================== FADE-IN ANIMATION ==================== */
    .fade-row {
      opacity: 0;
      transform: translateY(15px);
      animation: fadeIn 0.45s forwards;
    }
    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* ==================== HIGHLIGHT ANIMATION ==================== */
    .highlight {
      background-color: #fff3b0;
      font-weight: 600;
      padding: 0 2px;
      border-radius: 3px;
      animation: glow 0.8s ease-in-out;
    }
    @keyframes glow {
      0% { background-color: #fff3b0; box-shadow: 0 0 5px #ffe066; }
      50% { background-color: #ffe066; box-shadow: 0 0 8px #ffc107; }
      100% { background-color: #fff3b0; box-shadow: 0 0 5px #ffe066; }
    }
  </style>
</head>
<body class="section">

<!-- ⭐⭐⭐⭐⭐ START: Sticky Header -->
<div class="sticky-header">
  <img src="./img/logo/DS-Logo.png" alt="College Logo">
  <h4>📚 Library Catalog</h4>
</div>
<!-- ⭐⭐⭐⭐⭐ END: Sticky Header -->

<!-- ⭐⭐⭐⭐⭐ START: Library Section -->
<section class="container py-4">

  <!-- Search Bar -->
  <div class="search-bar">
    <input type="text" id="libSearch" class="form-control form-control-lg" placeholder="Search books by title, author, or ISBN...">
  </div>

  <!-- Library Table -->
  <div class="card-soft">
    <div class="table-responsive">
      <table class="table table-bordered table-striped text-center align-middle" id="libTable">
        <thead class="table-primary">
          <tr>
            <th>#</th>
            <th>Title</th>
            <th>Author</th>
            <th>ISBN</th>
            <th>Copies</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <!-- Rows dynamically rendered -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Back to Home -->
  <div class="back-home">
    <button onclick="window.location.href='index.html'">
      <i class="bi bi-house-door me-2"></i>Back to Home
    </button>
  </div>

</section>
<!-- ⭐⭐⭐⭐⭐ END: Library Section -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
let books = [
  {title:'Intro to Physics', author:'A. Rahman', isbn:'978-0001', copies:5},
  {title:'English Grammar', author:'S. Akter', isbn:'978-0002', copies:2},
  {title:'Introduction to Algorithms', author:'Cormen et al.', isbn:'9780262033848', copies:5},
  {title:'The Great Gatsby', author:'F. Scott Fitzgerald', isbn:'9780743273565', copies:0},
  {title:'Data Structures', author:'E. W. Dijkstra', isbn:'978-0003', copies:3},
  {title:'Modern Chemistry', author:'L. Pauling', isbn:'978-0004', copies:4}
];

// Highlight matching query in text
function highlight(text, query) {
  if(!query) return text;
  const regex = new RegExp(`(${query.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')})`, 'gi');
  return text.replace(regex, '<span class="highlight">$1</span>');
}

// Render table
function render() {
  const q = (document.getElementById('libSearch').value || '').toLowerCase();
  const tbody = document.querySelector('#libTable tbody');
  const filtered = books.filter(b => JSON.stringify(b).toLowerCase().includes(q));

  tbody.innerHTML = filtered.map((b,i)=>`
    <tr class="fade-row" style="animation-delay:${i*0.05}s">
      <td>${i+1}</td>
      <td>${highlight(b.title,q)}</td>
      <td>${highlight(b.author,q)}</td>
      <td>${highlight(b.isbn,q)}</td>
      <td>${b.copies}</td>
      <td>${b.copies>0?'<span class="badge bg-success">Available</span>':'<span class="badge bg-secondary">Out</span>'}</td>
    </tr>
  `).join('');
}

document.addEventListener('DOMContentLoaded', render);
document.getElementById('libSearch').addEventListener('input', render);
</script>

</body>
</html>
